<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projects ‚Äî Pole Position üèÅ</title>
  <link rel="icon" type="image/png" href="assets/img/KC.png?v=2">
  <link rel="apple-touch-icon" href="assets/img/KC.png?v=2">
  <link rel="stylesheet" href="assets/css/base.css">
  <style>
    .page-hero {
      padding: 40px 0 18px;
      text-align: center
    }

    .page-hero h1 {
      margin: 0 auto 10px;
      max-width: 820px;
      font-size: clamp(28px, 5vw, 46px)
    }

    .driver-bar {
      margin: 6px auto 0;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      color: var(--muted)
    }

    .btn {
      appearance: none;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-text);
      padding: 10px 14px;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer
    }

    .btn:hover {
      background: var(--accent);
      color: #fff;
      border-color: transparent
    }

    .btn[disabled] {
      opacity: .45;
      cursor: default;
      pointer-events: none
    }

    .card {
      background: var(--surface);
      border: 1px solid var(--ring);
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 10px 24px rgba(12, 21, 33, .06), 0 2px 6px rgba(12, 21, 33, .04)
    }

    .card h3 {
      margin: 0 0 8px;
      font: 800 18px/1.2 Inter, system-ui;
      letter-spacing: .2px
    }

    .grid {
      display: grid;
      gap: 16px
    }

    @media(min-width:780px) {
      .grid {
        grid-template-columns: 1fr 1fr
      }
    }

    .tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin: .35rem 0 .8rem
    }

    .tag {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--ring);
      font-weight: 700;
      background: color-mix(in oklab, #cfe9fb 35%, white);
      color: #0b2033
    }

    :root[data-theme="lando"] .tag {
      background: #2a2a2a;
      border-color: #3a3a3d;
      color: #ffe5c2
    }

    .linkrow {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 8px
    }

    .sep {
      opacity: .6
    }

    a.code-link,
    a.video-link {
      font-weight: 700;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px
    }

    a.code-link {
      color: var(--accent)
    }

    a.video-link {
      color: var(--muted)
    }

    :root[data-theme="lando"] a.code-link {
      color: #ff8000
    }

    :root[data-theme="lando"] a.video-link {
      color: #ffae42
    }

    footer {
      border-top: 1px solid var(--ring);
      padding: 18px 0;
      color: var(--muted);
      text-align: center
    }

    .space-top {
      margin-top: 12px
    }

    .switch-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin: 14px 0 14px
    }

    .switch-row h2 {
      margin: 0;
      font: 700 clamp(18px, 2.8vw, 26px)/1.2 "Playfair Display", Georgia, serif;
      color: var(--text);
      letter-spacing: .1px
    }

    .switch-controls {
      display: flex;
      gap: 10px;
      align-items: center
    }

    .carousel {
      border: 1px solid var(--ring);
      border-radius: 16px;
      background: color-mix(in oklab, var(--surface) 96%, transparent);
      overflow: hidden
    }

    .track {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: 100%;
      transform: translateX(0%);
      transition: transform 320ms ease;
      will-change: transform
    }

    .panel {
      padding: 16px
    }

    .video-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, .58);
      backdrop-filter: blur(10px) saturate(.9);
      z-index: 70;
      padding: 18px
    }

    .video-card {
      width: min(860px, 92vw);
      max-height: 86vh;
      background: var(--surface);
      border: 1px solid var(--ring);
      border-radius: 16px;
      box-shadow: 0 22px 48px rgba(12, 21, 33, .32);
      overflow: hidden
    }

    .video-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 14px;
      border-bottom: 1px solid var(--ring)
    }

    .video-title {
      display: grid;
      gap: 3px;
      min-width: 0
    }

    .video-title strong {
      font: 800 15px/1.2 Inter, system-ui
    }

    .video-title span {
      color: var(--muted);
      font-weight: 700;
      font-size: 13px
    }

    .video-body {
      padding: 14px;
      display: grid;
      gap: 12px
    }

    .video-player {
      width: 100%;
      aspect-ratio: 16/9;
      max-height: 60vh;
      height: auto;
      border-radius: 14px;
      border: 1px solid var(--ring);
      background: #0b0b0b;
      display: block;
      object-fit: contain
    }

    .video-nav {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: center
    }

    .video-nav[hidden] {
      display: none
    }
  </style>
</head>

<body>
  <header class="site">
    <div class="site-inner container">
      <div class="brand">
        <div class="avatar-wrap">
          <span class="avatar-stack" aria-label="Katherine profile image">
            <img class="avatar avatar-a" src="assets/img/me.png" alt="Katherine avatar illustration">
            <img class="avatar avatar-b" src="assets/img/photo_me.jpeg" alt="Katherine photo">
          </span>
          <span class="avatar-badge"></span>
        </div>
        <span>Projects ‚Äî Pole PositionüèÅ</span>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <section class="page-hero container">
    <h1>Projects</h1>
    <div class="driver-bar">
      <button class="btn" data-theme="carlos">Carlos Sainz Jr.</button>
      <button class="btn" data-theme="lando">Lando Norris</button>
      <button class="btn" id="resetTheme">Reset theme</button>
    </div>
  </section>

  <section class="container">
    <div class="switch-row">
      <h2 id="panelTitle">Computer Science Projects</h2>
      <div class="switch-controls">
        <button class="btn" id="prevPanel" type="button" aria-label="Back to Computer Science">‚Üê</button>
        <button class="btn" id="nextPanel" type="button" aria-label="Go to Simulation Engineering">‚Üí</button>
      </div>
    </div>

    <div class="carousel">
      <div class="track" id="projectTrack">

        <div class="panel">
          <div class="grid">
            <article class="card">
              <h3>Calculator - Shunting-Yard Algorithm</h3>
              <p>C++ expression evaluator using shunting-yard; buttons via <strong>factory pattern</strong>, evaluation
                on a dedicated <strong>processor instance</strong>.</p>
              <div class="tags"><span class="tag">C++</span><span class="tag">Factory Pattern</span><span
                  class="tag">Algorithms</span></div>
              <div class="linkrow"><a class="code-link" href="https://github.com/Katechen125/Calculator"
                  target="_blank">üíª Code</a><span class="sep">‚Ä¢</span><a class="video-link js-video"
                  href="assets/videos/Calculator.mp4" data-title="Calculator - Shunting-Yard Algorithm">üé• Demo
                  Video</a>
              </div>
            </article>

            <article class="card">
              <h3>Conway‚Äôs Game of Life</h3>
              <p>C++ with updated <strong>wxWidgets</strong> UI via <strong>vcpkg</strong>. Pause/step + presets.</p>
              <div class="tags"><span class="tag">C++</span><span class="tag">wxWidgets</span><span
                  class="tag">vcpkg</span></div>
              <div class="linkrow"><a class="code-link" href="https://github.com/Katechen125/Conway_Game_of_Life"
                  target="_blank">üíª Code</a><span class="sep">‚Ä¢</span><a class="video-link js-video"
                  href="assets/videos/Game%20of%20Life.mp4" data-title="Conway‚Äôs Game of Life">üé• Demo Video</a></div>
            </article>

            <article class="card">
              <h3>Pathfinder - Travel</h3>
              <p>React Native app for attractions, bookings, flights, calendar, expenses, currency, and saved
                places/maps.</p>
              <div class="tags"><span class="tag">React Native</span><span class="tag">TypeScript</span><span
                  class="tag">Google Cloud</span><span class="tag">Xcode (iOS)</span></div>
              <div class="linkrow"><a class="code-link" href="https://github.com/Katechen125/Pathfinder"
                  target="_blank">üíª Code</a><span class="sep">‚Ä¢</span><a class="video-link js-external"
                  href="https://www.youtube.com/playlist?list=PLcprPtzWKe_yDr-mHER8Ew9LGg2TBSMJL" target="_blank">üé•
                  Demo Video</a></div>
            </article>

            <article class="card">
              <h3>TCP Server - Spaghetti Relay</h3>
              <p><strong>C++</strong> TCP server that relays messages across clients with simple logging and graceful
                shutdown.</p>
              <div class="tags"><span class="tag">C++</span><span class="tag">TCP</span><span
                  class="tag">Sockets</span><span class="tag">Networking</span></div>
              <div class="linkrow"><a class="code-link" href="https://github.com/Katechen125/TCP-server"
                  target="_blank">üíª Code</a><span class="sep">‚Ä¢</span><a class="video-link js-video"
                  href="assets/videos/TCP.mp4" data-title="TCP Server - Spaghetti Relay">üé• Demo Video</a></div>
            </article>

            <article class="card">
              <h3>Proximity Video Panel (Collab)</h3>
              <p><strong>UE5 - Blueprints.</strong> Proximity trigger: approach ‚Üí panel reveals; step away ‚Üí panel
                hides.</p>
              <div class="tags"><span class="tag">UE5</span><span class="tag">Blueprints</span><span
                  class="tag">Prototype</span></div>
            </article>
          </div>
        </div>

        <div class="panel">
          <div class="grid">
            <article class="card">
              <h3>Geneva Drive</h3>
              <p>SolidWorks mechanism built with clean mates, then validated with a motion study to confirm indexing and
                clearances.</p>
              <div class="tags">
                <span class="tag">SolidWorks</span>
                <span class="tag">Motion Study</span>
                <span class="tag">Mates</span>
              </div>
              <div class="linkrow">
                <a class="video-link" href="#" id="openGenevaVideos">üé• Demo Video</a>
              </div>
            </article>
          </div>
        </div>

      </div>
    </div>
  </section>

  <footer>
    <div class="container">¬© <span id="year"></span> Katherine Chen ‚Ä¢ Built with HTML/CSS/JS ‚Ä¢ Deployed on GitHub Pages
    </div>
  </footer>

  <div class="video-overlay" id="videoOverlay" aria-hidden="true">
    <div class="video-card" role="dialog" aria-modal="true" aria-label="Project demo video">
      <div class="video-head">
        <div class="video-title">
          <strong id="videoTitle">Demo</strong>
          <span id="videoMeta">Press Esc to close</span>
        </div>
        <button class="btn" id="closeVideos" type="button">Close</button>
      </div>

      <div class="video-body">
        <video class="video-player" id="videoPlayer" controls playsinline></video>

        <div class="video-nav" id="videoNav">
          <button class="btn" id="prevVideo" type="button" aria-label="Previous video">‚Üê Prev</button>
          <button class="btn" id="nextVideo" type="button" aria-label="Next video">Next ‚Üí</button>
        </div>
      </div>
    </div>
  </div>

  <script src="assets/js/confetti.js"></script>
  <script src="assets/js/theme.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    document.querySelectorAll('button[data-theme]').forEach(b =>
      b.addEventListener('click', () => setThemeAndConfetti(b.dataset.theme))
    );
    document.getElementById('resetTheme')?.addEventListener('click', () => {
      resetTheme()
    });

    const projectTrack = document.getElementById('projectTrack');
    const panelTitle = document.getElementById('panelTitle');
    const prevPanel = document.getElementById('prevPanel');
    const nextPanel = document.getElementById('nextPanel');

    const panelTitles = [
      'Computer Science Projects',
      'Simulation Engineering Projects'
    ];

    let panelIndex = 0;

    function updatePanels() {
      projectTrack.style.transform = `translateX(${-100 * panelIndex}%)`;
      panelTitle.textContent = panelTitles[panelIndex];
      prevPanel.disabled = panelIndex === 0;
      nextPanel.disabled = panelIndex === panelTitles.length - 1;
    }

    prevPanel.addEventListener('click', () => {
      panelIndex = Math.max(0, panelIndex - 1);
      updatePanels();
    });

    nextPanel.addEventListener('click', () => {
      panelIndex = Math.min(panelTitles.length - 1, panelIndex + 1);
      updatePanels();
    });

    updatePanels();

    const videoOverlay = document.getElementById('videoOverlay');
    const videoPlayer = document.getElementById('videoPlayer');
    const videoTitle = document.getElementById('videoTitle');
    const videoMeta = document.getElementById('videoMeta');
    const videoNav = document.getElementById('videoNav');

    const openGenevaVideos = document.getElementById('openGenevaVideos');
    const closeVideos = document.getElementById('closeVideos');
    const prevVideo = document.getElementById('prevVideo');
    const nextVideo = document.getElementById('nextVideo');

    const genevaVideos = [
      { src: 'assets/videos/Geneva%20Drive_Angle.mp4', label: 'Angle view' },
      { src: 'assets/videos/Geneva%20Drive.mp4', label: 'Main view' }
    ];

    let playlist = [];
    let videoIndex = 0;

    function setVideo(i) {
      if (!playlist.length) return;

      videoIndex = (i + playlist.length) % playlist.length;

      videoPlayer.pause();
      videoPlayer.removeAttribute('src');
      videoPlayer.load();

      videoPlayer.src = playlist[videoIndex].src;
      videoPlayer.load();

      if (playlist.length > 1) {
        videoMeta.textContent = `Video ${videoIndex + 1} of ${playlist.length} ‚Ä¢ ${playlist[videoIndex].label || ''}`.trim();
      } else {
        videoMeta.textContent = 'Press Esc to close';
      }

      videoNav.hidden = playlist.length <= 1;
    }

    function openPlaylist(list, titleText, startIndex = 0) {
      playlist = list || [];
      videoTitle.textContent = titleText || 'Demo';

      videoOverlay.style.display = 'flex';
      videoOverlay.setAttribute('aria-hidden', 'false');

      setVideo(startIndex);
    }

    function closeVideoOverlay() {
      videoPlayer.pause();
      videoOverlay.style.display = 'none';
      videoOverlay.setAttribute('aria-hidden', 'true');
      playlist = [];
      videoIndex = 0;
    }

    openGenevaVideos.addEventListener('click', (e) => {
      e.preventDefault();
      openPlaylist(genevaVideos, 'Geneva Drive', 0);
    });

    document.querySelectorAll('a.js-video').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const src = link.getAttribute('href');
        const titleText = link.getAttribute('data-title') || 'Demo';
        openPlaylist([{ src, label: 'Demo' }], titleText, 0);
      });
    });

    closeVideos.addEventListener('click', closeVideoOverlay);

    prevVideo.addEventListener('click', () => {
      if (playlist.length > 1) setVideo(videoIndex - 1);
    });

    nextVideo.addEventListener('click', () => {
      if (playlist.length > 1) setVideo(videoIndex + 1);
    });

    videoOverlay.addEventListener('click', (e) => {
      if (e.target === videoOverlay) closeVideoOverlay();
    });

    window.addEventListener('keydown', (e) => {
      if (videoOverlay.style.display === 'flex' && e.key === 'Escape') closeVideoOverlay();
      if (videoOverlay.style.display === 'flex' && playlist.length > 1 && e.key === 'ArrowLeft') setVideo(videoIndex - 1);
      if (videoOverlay.style.display === 'flex' && playlist.length > 1 && e.key === 'ArrowRight') setVideo(videoIndex + 1);
    });

    document.querySelectorAll('a.js-external').forEach(link => {
      link.addEventListener('click', (e) => {
        const href = link.getAttribute('href') || '';
        const isYouTube = href.includes('youtube.com') || href.includes('youtu.be');
        if (!isYouTube) return;

        e.preventDefault();

        const ok = confirm('This demo opens on YouTube in a new tab. Continue?');
        if (ok) {
          window.open(href, '_blank', 'noopener,noreferrer');
        }
      });
    });
  </script>
</body>

</html>